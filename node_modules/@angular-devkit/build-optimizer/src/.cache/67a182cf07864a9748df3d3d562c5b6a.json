{"remainingRequest":"/Users/davidevm/training/Factura/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/Users/davidevm/training/Factura/node_modules/ng2-carouselamos/dist/components/ng2-carouselamos/ng2-carouselamos.component.js","dependencies":[{"path":"/Users/davidevm/training/Factura/node_modules/ng2-carouselamos/dist/components/ng2-carouselamos/ng2-carouselamos.component.js","mtime":1539913856769},{"path":"/Users/davidevm/training/Factura/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/davidevm/training/Factura/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nvar isEqual = require('lodash.isequal');\n/*\n  *\n  * @param() items - List of items to belong in carousel\n  * @param() width - Size of window(view) to show\n  * @param() $prev - Template for previous button\n  * @param() $next - Template for next button\n  * @param() $item - Template for the item\n*/\nvar Ng2Carouselamos = /*@__PURE__*/ (function () {\n    function Ng2Carouselamos() {\n        this.items = [];\n        this.width = 500;\n        this.onSelectedItem = new EventEmitter();\n        this.childIndex = 0;\n        this.amount = 0;\n        this.startPress = 0;\n        this.lastX = 0;\n    }\n    Ng2Carouselamos.prototype.onMousedown = function (e) {\n        if (e.which === 1) {\n            this.startPress = e.clientX;\n            this.lastX = this.amount;\n        }\n    };\n    Ng2Carouselamos.prototype.onTouchdown = function (e) {\n        if (navigator.userAgent.indexOf('Android') >= 0)\n            e.preventDefault();\n        this.startPress = e.targetTouches[0].clientX;\n        this.lastX = this.amount;\n    };\n    Ng2Carouselamos.prototype.onMousemove = function (e, maxWidth) {\n        if (e.which === 1) {\n            var amount = this.lastX - (this.startPress - e.clientX);\n            if (amount > 0 || amount < -(maxWidth - this.width))\n                return;\n            this.amount = amount;\n        }\n    };\n    Ng2Carouselamos.prototype.onTouchmove = function (e, maxWidth) {\n        if (navigator.userAgent.indexOf('Android') >= 0)\n            e.preventDefault();\n        var amount = this.lastX - (this.startPress - e.targetTouches[0].clientX);\n        if (amount > 0 || amount < -(maxWidth - this.width))\n            return;\n        this.amount = amount;\n    };\n    Ng2Carouselamos.prototype.onMouseup = function (e, elem) {\n        if (e.which === 1) {\n            this.startPress = 0;\n            this.snap(elem);\n        }\n    };\n    Ng2Carouselamos.prototype.onTouchup = function (e, elem) {\n        if (navigator.userAgent.indexOf('Android') >= 0)\n            e.preventDefault();\n        this.startPress = 0;\n        this.snap(elem);\n    };\n    Ng2Carouselamos.prototype.snap = function (elem) {\n        var counter = 0;\n        var lastVal = 0;\n        for (var i = 0; i < this.items.length; i++) {\n            var el = elem.children[i];\n            var style = el.currentStyle || window.getComputedStyle(el);\n            counter += el.offsetWidth + (parseFloat(style.marginLeft) + parseFloat(style.marginRight));\n            if (this.amount <= lastVal && this.amount >= -counter) {\n                this.amount = -lastVal;\n                this.childIndex = i;\n                this.onSelectedItem.emit({ item: this.items[this.childIndex], index: this.childIndex, first: false });\n                return;\n            }\n            lastVal = counter;\n        }\n        return counter;\n    };\n    Ng2Carouselamos.prototype.scroll = function (forward, elem) {\n        this.childIndex += forward ? 1 : -1;\n        this.onSelectedItem.emit({ item: this.items[this.childIndex], index: this.childIndex, first: false });\n        this.amount = -(this.calcScroll(elem));\n    };\n    Ng2Carouselamos.prototype.calcScroll = function (elem) {\n        var counter = 0;\n        for (var i = this.childIndex - 1; i >= 0; i--) {\n            var el = elem.children[i];\n            var style = el.currentStyle || window.getComputedStyle(el);\n            counter += el.offsetWidth + (parseFloat(style.marginLeft) + parseFloat(style.marginRight));\n        }\n        return counter;\n    };\n    Ng2Carouselamos.prototype.ngOnChanges = function (changes) {\n        if (changes.items && !isEqual(changes.items.previousValue, changes.items.currentValue)) {\n            if (changes.items.firstChange) {\n                this.onSelectedItem.emit({ item: this.items[this.childIndex], index: this.childIndex, first: true });\n            }\n            this.amount = 0;\n        }\n    };\n    return Ng2Carouselamos;\n}());\nexport { Ng2Carouselamos };\n//# sourceMappingURL=ng2-carouselamos.component.js.map \n",null]}